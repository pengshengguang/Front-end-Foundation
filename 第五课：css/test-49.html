<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>盒子模型常用的属性前八个</title>
    <style type="text/css">
        /*写CSS的时候第一步初始化默认样式，避免浏览器之间的差异->不仅如此，而且写默认样式对JS以后获取到的结果统一是有帮助的*/
        *{
            margin: 0;
            padding: 0;
            font-size: 14px;
        }
        #box{
            width: 200px;
            height: 200px;
            margin: 100px;
            padding: 30px;
            border: 10px solid green;
            line-height: 20px;
            overflow: auto;
            opacity: 0.1;  /*透明度，在IE6~8中不兼容此样式*/
            filter: alpha(opacity=10); /*透明度不兼容，使用滤镜来处理*/
        }
    </style>
</head>
<body>
    <div id="box" class="text text2 text3" index="1">彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光
        彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光
        彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光
        彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光
        彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光
        彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光
        彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光
        彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光
        彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光
        彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光
        彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光
        彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光
        彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光
        彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光
        彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光
        彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光
        彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光
        彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光
        彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光
        彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光
        彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光
        彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光
        彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光
        彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光
        彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光
        彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光
        彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光
        彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光
        彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光
        彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光
        彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光
        彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光
        彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光
        彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光
        彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光
        彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光
        彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光
        彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光
        彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光
        彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光
        彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光
        彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光
        彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光
        彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光
        彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光
        彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光
        彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光
        彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光
        彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光
        彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光
        彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光
        彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光
        彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光
        彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光
        彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光
        彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光
        彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光
        彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光
        彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光
        彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光
        彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光彭胜光</div>
    <script type="text/javascript">
        var box = document.getElementById("box");
        // 48课的盒子模型，其实是获取组合样式，例如clientHeight=height+上下padding
        // 但是，现在我想要获取具体的样式，例如height，怎么办呢？

        // 1、元素.style.属性名
        // ->需要我们把元素的样式写在行内样式上才行（写在样式表中是不管用的）
        // console.log(box.style.height)
        // 弊端：
        // ->在真实项目中是不常用的，因为无法实现css样式表与html分离

        // 2、使用window.getComputedStyle这个方法获取所有经过浏览器计算过的样式
        // 2.1->所有经过浏览器计算过的样式：只要当前元素标签可以在页面中呈现出来，那么它的所有样式都是通过浏览器计算过的（渲染）
        // ->哪怕有些样式没写，我们也可以获取到
        // 2.1->语法
        // window.getComputedStyle(当前操作的元素对象，当前元素的伪类（一般我们不用伪类，直接传null）)
        // 获取的结果是CSSStyleDeclaration的一个实例：包含了当前元素所有样式属性值
        // console.log(window.getComputedStyle(box, null));

        // 2.3->方法虽然好用，但是在IE6、7、8中不兼容，原因：因为window下没有getComputedStyle这个属性
        // 在IE6~8中我们可以使用currentStyle来获取所有经过浏览器计算过的样式
        // console.log(box.currentStyle); //这个方法只有IE6有，谷歌没有

        //2.4->处理兼容

        // ->处理兼容方式一：try..catch只有在万不得已的情况下才使用，因为如果当前是ie7，对window.getComputedStyle是不兼容的，
        //   但是ie7也得把不兼容的语句执行一遍（消耗性能）
        function getCss(curEle, attr) {
            var val = null
            try {
                val = window.getComputedStyle(curEle, null)[attr];
            } catch (e) {
                val = curEle.currentStyle[attr];
            }
            return val;
        }
        console.log(getCss(box, "height"));

        //2.5->处理兼容方式二 (这种方式好一点，性能上强一丢丢)
        function getCss2(curEle, attr) {
            if ('getComputedStyle' in window) {
                return window.getComputedStyle(curEle, null)[attr];
            }
            return curEle.currentStyle[attr];
        }
        console.log(getCss2(box, "height"));

        //2.6->处理兼容方式三：检测浏览器版本和类型来处理兼容
        //->window.navigator.userAgent
        console.log(/MSIE (6|7|8)/.test(window.navigator.userAgent));

        //2.7
        // console.log(getCss(box, 'border'));
        // console.log(getCss(box, 'fontFamily'));
        // 上面这两句代码，在不同浏览器上面，值是不一样的。
        // 这说明，对于部分样式，不同浏览器获取的结果是不一样的，主要由于getComputedStyle和currentStyle在某些方面不一样（实现不一样）

        // ->例如border这个属性，即使我设置了border，在谷歌上面能获取值，在IE却为undefined（borderTopWidth可以获取），这没法解决，
        //   只能开发的时候注意一下
        // ->但是例如fontFamily，可以解决一致问题，只需要写样式的时候，默认样式写上了，不管是谷歌还是IE，获取的值都是一致的，这就可以解释
        //   为啥每次写样式，都得默认一些样式，就是这个原因（对于不同浏览器，获取结果统一是有帮助的）。
        // * {font-family: 'sans-serif'}

        //2.8 对getCss进行第一次升级（去单位）
        function getCss2S(curEle, attr) {
            var val = null, reg = null;
            if ('getComputedStyle' in window) {
                val = window.getComputedStyle(curEle, null)[attr];
            } else {
                val = curEle.currentStyle[attr];
            }
            reg = /^-?\d+(\.\d+)?(px|pt|rem|em)?$/i; //匹配的情况：纯数值或者带单位的数值
            var a = reg.test(val) ? parseFloat(val) : val;
            return reg.test(val) ? parseFloat(val) : val;
        }
        debugger;
        console.log(getCss2S(box, "width"));
        console.log(getCss2S(box, 'float'));
        console.log(getCss2S(box, 'border'));

        //2.9 对getCss进行第二次升级：有些样式属性在不同浏览器中是不兼容的，例如opacity
        function getCss2SS(curEle, attr) {
            var val = null, reg = null;
            if ('getComputedStyle' in window) {
                val = window.getComputedStyle(curEle, null)[attr];
            } else {
                if (attr === 'opacity') {
                    val = curEle.currentStyle[attr]; // ->返回 alpha(opacity=10)
                    reg = /^alpha\(opacity=(\d+(?:\.\d+)?)\)$/i;  //  获取10这个数字
                    val = reg.test(val)?reg.exec(val)[1]/100:1  // 超厉害，test与exec一起使用！！！
                }
                val = curEle.currentStyle[attr];
            }
            reg = /^-?\d+(\.\d+)?(px|pt|rem|em)?$/i; //匹配的情况：纯数值或者带单位的数值
            return reg.test(val) ? parseFloat(val) : val;
        }


    </script>
</body>
</html>