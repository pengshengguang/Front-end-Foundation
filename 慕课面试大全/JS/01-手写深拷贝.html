<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>01</title>
</head>
<body>
  <script>
    const obj1 = {
      f: function () {},
      a: 1,
      b: 'psg',
      c: [ 1, 2, 3 ],
      d: {
        p: 'zhaoqing'
      }

    }
    const obj2 = deepClone(obj1)
    obj1.d.p = 'guangzhou'
    console.log(obj2.d.p)


    /**
     * 深拷贝
     * @param {Object} obj 要拷贝的对象
     * @return {*}
     */       
    function deepClone (obj = {}) {
      debugger
      if (typeof obj !== 'object' || obj === null) { // 证明是【值类型】或者【函数数据类型】，直接返回
        return obj
      }
      let result // 初始化返回结果
      if (obj instanceof Array) {
        result = []
      } else {
        result = {}
      }
      for (let key in obj) {
        if (obj.hasOwnProperty(key)) { // 保证key不是原型的属性  (或者干脆用  Object.keys().forEach()  即可)
          result[key] = deepClone(obj[key]) // 递归调用
        }
      }
      return result
    }
  </script>
</body>
</html>